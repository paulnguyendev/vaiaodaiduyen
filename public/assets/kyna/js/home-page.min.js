"use strict";
var htmlentities = {
        encode: function (e) {
            try {
                for (var t = [], a = e.length - 1; a >= 0; a--)
                    t.unshift(["&#", e[a].charCodeAt(), ";"].join(""));
                return t.join("");
            } catch (t) {
                return e;
            }
        },
        decode: function (e) {
            return e.replace(/&#(\d+);/g, function (e, t) {
                return String.fromCharCode(t);
            });
        },
    },
    configSlick = {
        slidesToScroll: 2,
        slidesToShow: 4,
        rows: 1,
        centerMode: !1,
        arrows: !0,
        dots: !0,
        infinite: !1,
        variableWidth: !1,
        prevArrow:
            '<button type="button" class="slick-prev slick-arrow-lg" aria-label="slick-button"></button>',
        nextArrow:
            '<button type="button" class="slick-next slick-arrow-lg" aria-label="slick-button"></button>',
        responsive: [
            {
                breakpoint: 4320,
                settings: { slidesToShow: 4, slidesToScroll: 4 },
            },
            {
                breakpoint: 1200,
                settings: {
                    variableWidth: !0,
                    dots: !1,
                    arrows: !1,
                    slidesToShow: 2,
                    slidesToScroll: 1,
                },
            },
            {
                breakpoint: 576,
                settings: {
                    variableWidth: !0,
                    dots: !1,
                    arrows: !1,
                    slidesToShow: 1,
                    slidesToScroll: 1,
                },
            },
        ],
    };
function _addSlickCount(e) {
    e.on("init", function (e, t) {
        if ($(window).width() < 1200) {
            t.$slider.addClass("slick-counted");
            var a =
                '<div class="slick-count"><b class="slick-count-current">1</b>/'.concat(
                    t.slideCount,
                    "</div>"
                );
            t.$slider.append(a);
        }
    }),
        e.slick(configSlick),
        e.on("beforeChange", function (e, t, a, o) {
            $(window).width() < 1200 &&
                t.$slider.find(".slick-count-current").text(o + 1);
        });
}
var player = videojs("video-preview__player"),
    homePage = {
        moneyFormat: function (e) {
            return (
                e &&
                e.toLocaleString("it-IT", {
                    style: "currency",
                    currency: "VND",
                })
            );
        },
        _handleSlick: function () {
            $(".banner__slide").slick({
                infinite: !0,
                slidesToScroll: 1,
                slidesToShow: 1,
                dots: !1,
                arrows: !0,
                autoplay: !0,
                autoplaySpeed: 1e4,
                prevArrow:
                    '<button type="button" class="slick-prev slick-arrow-lg" aria-label="slick-button"></button>',
                nextArrow:
                    '<button type="button" class="slick-next slick-arrow-lg" aria-label="slick-button"></button>',
            }),
                homePage.sliderArrowBottom("related-course__slider"),
                $(".section-best-seller .course-special__wrapper").slick({
                    arrows: !1,
                    rows: 0,
                    centerMode: !0,
                    variableWidth: !0,
                    lazyLoad: "ondemand",
                    infinite: !0,
                    autoplay: !0,
                    autoplaySpeed: 5e3,
                    prevArrow:
                        '<button type="button" class="slick-prev slick-arrow-lg" aria-label="slick-button"></button>',
                    nextArrow:
                        '<button type="button" class="slick-next slick-arrow-lg" aria-label="slick-button"></button>',
                    responsive: [
                        {
                            breakpoint: 4320,
                            settings: {
                                slidesToScroll: 1,
                                slidesToShow: 5,
                                centerPadding: "60px",
                            },
                        },
                        {
                            breakpoint: 1200,
                            settings: {
                                slidesToScroll: 1,
                                slidesToShow: 5,
                                centerPadding: "60px",
                            },
                        },
                        {
                            breakpoint: 992,
                            settings: { slidesToScroll: 1, slidesToShow: 3 },
                        },
                        {
                            breakpoint: 768,
                            settings: { slidesToScroll: 1, slidesToShow: 3 },
                        },
                        {
                            breakpoint: 576,
                            settings: { slidesToScroll: 1, slidesToShow: 3 },
                        },
                        {
                            breakpoint: 481,
                            settings: {
                                centerMode: !1,
                                variableWidth: !1,
                                slidesToScroll: 1,
                                slidesToShow: 1,
                            },
                        },
                    ],
                }),
                $(".section-best-seller .btn-prev").on("click", function () {
                    $(".section-best-seller .course-special__wrapper").slick(
                        "slickPrev"
                    );
                }),
                $(".section-best-seller .btn-next").on("click", function () {
                    $(".section-best-seller .course-special__wrapper").slick(
                        "slickNext"
                    );
                }),
                $(".tag-list-slider").slick({
                    rows: 2,
                    slidesPerRow: 7,
                    arrows: !0,
                    centerMode: !1,
                    prevArrow:
                        '<button type="button" class="slick-prev slick-arrow-lg" aria-label="slick-button"></button>',
                    nextArrow:
                        '<button type="button" class="slick-next slick-arrow-lg" aria-label="slick-button"></button>',
                    responsive: [
                        {
                            breakpoint: 1200,
                            settings: { rows: 2, slidesPerRow: 6 },
                        },
                        {
                            breakpoint: 992,
                            settings: {
                                rows: 2,
                                slidesPerRow: 5,
                                variableWidth: !0,
                            },
                        },
                        {
                            breakpoint: 768,
                            settings: {
                                rows: 2,
                                slidesPerRow: 4,
                                variableWidth: !0,
                            },
                        },
                        {
                            breakpoint: 576,
                            settings: {
                                rows: 2,
                                slidesPerRow: 3,
                                variableWidth: !0,
                            },
                        },
                        {
                            breakpoint: 481,
                            settings: {
                                rows: 2,
                                slidesPerRow: 2,
                                variableWidth: !0,
                            },
                        },
                    ],
                });
        },
        sliderArrowBottom: function (e) {
            var t =
                ($(".".concat(e, " .slick-list")).width() -
                    $(".".concat(e, " .slick-dots")).width() -
                    80) /
                2;
            $(".".concat(e, " .slick-dots")).after(
                '<button type="button" class="slick-prev slick-arrow-sm slick-arrow-bottom" aria-label="slick-button"></button>'
            ),
                $(".".concat(e, " .slick-dots")).after(
                    '<button type="button" class="slick-next slick-arrow-sm slick-arrow-bottom" aria-label="slick-button"></button>'
                ),
                $(".".concat(e, " .slick-prev")).css("left", t),
                $(".".concat(e, " .slick-next")).css("right", t),
                $(".".concat(e, " .slick-prev")).on("click", function () {
                    $(".".concat(e)).slick("slickPrev");
                }),
                $(".".concat(e, " .slick-next")).on("click", function () {
                    $(".".concat(e)).slick("slickNext");
                });
        },
        ClickDropDownCart: function () {
            $(".cart.dropdown").addClass("open"),
                $("footer").after(
                    '<div id="shadown-cart-click" style="position: fixed;top: 0;left: 0;width: 100%;height: 100%;z-index: 11;background: black;opacity: 0.5;"></div>'
                ),
                $("#shadown-cart-click").on("click", function () {
                    $(".cart.dropdown").remove("open"),
                        $("#shadown-cart-click").remove();
                }),
                setTimeout(function () {
                    $(".cart.dropdown").removeClass("open"),
                        $("#shadown-cart-click").remove();
                }, 4e3);
        },
        handleAddToCart: function () {
            $(document).on("click", "#shadown-cart-click", function () {
                $(".cart.dropdown").removeClass("open"),
                    $("#shadown-cart-click").remove();
            }),
                $(document).on("mouseleave", ".popover", function () {
                    $("body")
                        .find(".popover")
                        .each(function (e, t) {
                            $(t).fadeOut(300);
                        });
                }),
                $("body").on("click", ".add-to-cart", function (e) {
                    let url = $(this).attr("href");
                    e.preventDefault(),
                        $("body").find(".popover").popover("hide");
                    var t = $(this).data("pid"),
                        a = $('meta[name="csrf-token"]').attr("content");
                       
                        return false;
                    $.ajax({
                        url: url,
                        type: "get",
                        data: { pid: t, _csrf: a },
                        success: function (e) {
                            console.log(e);
                            e.result
                                ? ((countCart += 1),
                                  (sendData = !0),
                                  $(".k-header-info .cart .count-number").html(
                                      e.totalCount
                                  ),
                                  $(".k-details-cart-right .count-number").html(
                                      e.totalCount
                                  ),
                                  $("#detail-icon-cart .detail-number").html(
                                      e.totalCount
                                  ),
                                  $(".add-to-cart.k-popup").length > 0 &&
                                      $(
                                          ".k-popup-lesson .k-popup-lesson-close"
                                      ).click(),
                                  $(".add-to-cart")
                                      .parents("body")
                                      .hasClass("k-detail") &&
                                      $("html, body").animate(
                                          { scrollTop: 0 },
                                          200
                                      ),
                                  $("#k-header-form-cart")
                                      .parent()
                                      .replaceWith(e.content),
                                  $('*[data-id="' + t + '"]').each(function (
                                      e
                                  ) {
                                      $(this).attr("data-status-item", "3");
                                  }),
                                  $(
                                      ".add-to-cart[data-pid=".concat(t, "]")
                                  ).each(function (e, t) {
                                      $(this).removeClass(
                                          "go-to-cart add-to-cart register"
                                      ),
                                          $(this)
                                              .find("i.far")
                                              .removeClass("fa-shopping-cart")
                                              .addClass("fa-cart-plus"),
                                          $(this).addClass("already-in-cart");
                                  }),
                                  homePage.ClickDropDownCart(),
                                  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
                                      navigator.userAgent
                                  ) && (window.location.href = "/gio-hang"))
                                : console.log(e.error);
                        },
                    });
                });
        },
        handleCourseCardHover: function (e) {
            e.on("click", ".cta-open-video", function (e) {
                e.preventDefault();
                var t = $(this).attr("data-source");
              
                $("#video-modal").modal("show");
                $(".video-preview__wrapper iframe").attr("src", t);
            }),
                $("#video-modal").on("hide.bs.modal", function () {
                    $(".video-preview__wrapper iframe").attr("src", "");
                }),
                e.find(".card-course").each(function (e, t) {
                    if ($(window).width() > 1199) {
                        var a,
                            o = $(t).attr("data-id"),
                            n = $(t).find(".heading-card__main").text(),
                            s = $(t).attr("data-upload-date"),
                            i = $(t).attr("data-duration"),
                            r = $(t).attr("data-user-enroll"),
                            c = $(t).attr("data-description"),
                            l = $(t).attr("data-promo-text"),
                            d = $(t).attr("data-is-best-seller"),
                            u = $(t).find(".card-link").attr("href"),
                            p = $("#home-page").data("is-user-logged"),
                            h = $(t).data("course-item-free"),
                            cartUrl = $(t).data("cart-url"),
                            v = "";
                        v = "" == l || null == l ? "" : "".concat(l, " ");
                        var b = {
                            id: o,
                            title: n,
                            uploadDate: s,
                            duration: i,
                            userEnroll: r,
                            description: c,
                            promoText: l,
                            isBestSeller: d,
                            courseUrl: u,
                            cartUrl: cartUrl,
                        };
                        $(t)
                            .popover({
                                placement: function (e, t) {
                                    var a = $(t).offset(),
                                        o = $(t).innerWidth();
                                    return $(window).width() - o - a.left < 400
                                        ? "auto left"
                                        : "auto right";
                                },
                                trigger: "manual",
                                container: "body",
                                boundary: "window",
                                html: !0,
                                content: function () {
                                    var e = parseInt(
                                            $(t).attr("data-status-item")
                                        ),
                                        a = "";
                                    a = $(
                                        ".card-course[data-id=".concat(o, "]")
                                    )
                                        .find(".cta-open-video")
                                        .hasClass("none-video")
                                        ? ""
                                        : '<a class="cta-course-preview cta-course-preview-hover btn-ripple"><i class="fas fa-play"></i></a>';
                                    var n = "";
                                    null != i &&
                                        i.length > 1 &&
                                        "0 phút" != i &&
                                        (n =
                                            ' <span class="card-hover__info-item">\n                                                <i class="fas fa-clock"></i>\n                                               '.concat(
                                                i,
                                                '\n                                            </span>\n                                            <i class="fas fa-circle"></i>'
                                            ));
                                    var s =
                                        '\n                                <div class="card-hover">\n                                    <div class="card-hover__wrapper">\n                                        <div class="card-hover__title">\n                                            '
                                            .concat(
                                                b.title,
                                                '\n                                        </div>\n                                        <div class="card-hover__feature">\n                                           '
                                            )
                                            .concat(
                                                v,
                                                '\n                                        </div>\n                                        <div class="card-hover__info">\n                                        '
                                            )
                                            .concat(
                                                1 == b.isBestSeller
                                                    ? '<span class="card-hover__info-item badget-red">Bestseller</span>'
                                                    : "",
                                                '\n                                            <span class="card-hover__info-item">\n                                            <i class="fas fa-calendar-check"></i>\n                                                    '
                                            )
                                            .concat(
                                                b.uploadDate,
                                                '\n                                            </span>\n                                        </div>\n                                        <div class="card-hover__info">\n                                            '
                                            )
                                            .concat(
                                                n,
                                                '\n                                          \n                                            <span class="card-hover__info-item">\n                                                <i class="fas fa-user"></i>\n                                                '
                                            )
                                            .concat(
                                                b.userEnroll,
                                                ' học viên\n                                            </span>\n                                        </div>\n                                       \n                                        <div class="card-hover__description">\n                                            '
                                            )
                                            .concat(
                                                b.description,
                                                '\n                                            <div class="card-hover__description-fade-bottom"></div>\n                                        </div>\n                                        <div class="card-hover__cta">\n                                            <a href="'
                                            )
                                            .concat(
                                                b.courseUrl,
                                                '" target="_blank" class="cta-course-detail btn-outline-green">Chi tiết</a>\n                                            <div>\n                                            '
                                            )
                                            .concat(
                                                a,
                                                "\n                                            "
                                            );
                                    return (
                                        2 === e
                                            ? (s += '<a href="/lop-hoc/'.concat(
                                                  b.id,
                                                  '" class="cta-add-to-cart btn-outline-green btn-circle go-to-class" title="VÃ o lá»›p há»c">\n                                        <i class="far fa-sign-in-alt"></i>\n                                    </a>'
                                              ))
                                            : h && 0 === p
                                            ? (s +=
                                                  '<a class="request-login btn-outline-green btn-circle" href="/dang-nhap" data-toggle="modal"data-target="#k-popup-account-login" data-ajax="" data-push-state="false" title="ThÃªm vÃ o khoÃ¡ há»c">\n                                            <i class="fas fa-plus"></i>\n                                        </a>')
                                            : h && 1 === p
                                            ? (s +=
                                                  ' <a class="btn-outline-green btn-circle" href="#" id="addToMyCourse" data-course="'.concat(
                                                      b.id,
                                                      '" title="ThÃªm vÃ o khoÃ¡ há»c">\n                                            <i class="fas fa-plus"></i>\n                                        </a>'
                                                  ))
                                            : 3 === e
                                            ? ((s +=
                                                  '<a class="cta-add-to-cart btn-outline-green btn-circle already-in-cart" disabled data-toggle="tooltip" data-placement="top" data-animation="false" title="Thêm vào giỏ hàng" data-url >\n                                            <i class="far fa-cart-plus"></i>\n                                        </a>'),
                                              $(".already-in-cart").prop(
                                                  "disabled",
                                                  !0
                                              ))
                                            : (s +=
                                                  '<a  href="' +
                                                  b.cartUrl +
                                                  '" class="cta-add-to-cart btn-outline-green btn-circle go-to-cart add-to-cart" data-pid="'
                                                      .concat(
                                                          b.id,
                                                          '" action="AddToCart" label="'
                                                      )
                                                      .concat(
                                                          b.title,
                                                          '" title="Thêm vào giỏ hàng">\n                                            <i class="far fa-shopping-cart"></i>\n                                        </a>'
                                                      )),
                                        (s +=
                                            "</div>\n                                        </div>\n                                    </div>\n                                </div>")
                                    );
                                },
                            })
                            .hover(
                                function () {
                                    var e = this;
                                    (a = setTimeout(function () {
                                        $("body")
                                            .find(".popover")
                                            .popover("hide"),
                                            $(e).popover("show"),
                                            $(".cta-course-preview-hover").on(
                                                "click",
                                                function (e) {
                                                    e.preventDefault(),
                                                        $(
                                                            ".card-course[data-id=".concat(
                                                                o,
                                                                "]"
                                                            )
                                                        )
                                                            .find(
                                                                ".cta-open-video"
                                                            )
                                                            .click(),
                                                        $("body")
                                                            .find(".popover")
                                                            .popover("hide");
                                                }
                                            );
                                    }, 300)),
                                        $("body")
                                            .find(".popover")
                                            .on("mouseleave", function () {
                                                $(this).popover("hide");
                                            });
                                },
                                function () {
                                    setTimeout(function () {
                                        $(".popover:hover").length ||
                                            $("body")
                                                .find(".popover")
                                                .popover("hide");
                                    }, 100),
                                        clearTimeout(a);
                                }
                            )
                            .on("show.bs.popover", function (e) {
                                var t = $(e.target).offset().left - 380;
                                setTimeout(function () {
                                    $(".popover.left").css({ left: t });
                                }, 100);
                            });
                    }
                });
        },
        handleScrollSmooth: function () {
            $('a[href*="#"]')
                .not('a[href="#"]')
                .not('a[href="#0"]')
                .not('a[data-enable-scroll="false"]')
                .on("click", function (e) {
                    if (
                        location.pathname.replace(/^\//, "") ==
                            this.pathname.replace(/^\//, "") &&
                        location.hostname == this.hostname
                    ) {
                        var t = $(this.hash);
                        t = t.length
                            ? t
                            : $("[name=" + this.hash.slice(1) + "]");
                        var a = 0;
                        $("#fixed-topbar").length && (a = 55),
                            t.length &&
                                (e.preventDefault(),
                                $("html,body").animate(
                                    { scrollTop: t.offset().top - 67 - a },
                                    1e3
                                ));
                    }
                });
        },
        handleScrollTop: function () {
            $(document).on("scroll", function () {
                $(document).scrollTop() > 500
                    ? $("body")
                          .addClass("scroll-show")
                          .removeClass("scroll-hide")
                    : $("body")
                          .addClass("scroll-hide")
                          .removeClass("scroll-show");
            }),
                $(".cta-scroll-to-top").on("click", function (e) {
                    e.preventDefault(),
                        $("html,body").animate({ scrollTop: 0 }, 1e3);
                });
        },
        renderBestsellerCourses: function () {
            $.ajax({
                url: "/site/best-seller-courses-ajax",
                success: function (e) {
                    200 === e.status.code &&
                        $("#bestSeller .container").append(e.data);
                },
                complete: function (e) {
                    $(".course-special__wrapper").slick({
                        arrows: !1,
                        rows: 0,
                        centerMode: !0,
                        variableWidth: !0,
                        infinite: !0,
                        autoplay: !0,
                        autoplaySpeed: 5e3,
                        prevArrow:
                            '<button type="button" class="slick-prev slick-arrow-lg" aria-label="slick-button"></button>',
                        nextArrow:
                            '<button type="button" class="slick-next slick-arrow-lg" aria-label="slick-button"></button>',
                        responsive: [
                            {
                                breakpoint: 1200,
                                settings: {
                                    slidesToScroll: 1,
                                    slidesToShow: 3,
                                    centerPadding: "60px",
                                },
                            },
                            {
                                breakpoint: 992,
                                settings: {
                                    slidesToScroll: 1,
                                    slidesToShow: 3,
                                },
                            },
                            {
                                breakpoint: 768,
                                settings: {
                                    slidesToScroll: 1,
                                    slidesToShow: 3,
                                },
                            },
                            {
                                breakpoint: 576,
                                settings: {
                                    slidesToScroll: 1,
                                    slidesToShow: 3,
                                },
                            },
                            {
                                breakpoint: 481,
                                settings: {
                                    centerMode: !1,
                                    variableWidth: !1,
                                    slidesToScroll: 1,
                                    slidesToShow: 1,
                                },
                            },
                        ],
                    }),
                        $(".btn-prev").on("click", function () {
                            $(".course-special__wrapper").slick("slickPrev");
                        }),
                        $(".btn-next").on("click", function () {
                            $(".course-special__wrapper").slick("slickNext");
                        });
                },
            });
        },
        init: function () {
            this._handleSlick(),
                this.handleScrollSmooth(),
                this.handleScrollTop(),
                this.handleAddToCart();
        },
    },
    homePageCategory = {
        initSlickHeroBanner: function () {
            $(".header-banner-first").length &&
                $(".header-banner-first > .inner").slick({
                    lazyLoad: "ondemand",
                    infinite: !0,
                    slidesToScroll: 1,
                    slidesToShow: 1,
                    dots: !0,
                    arrows: !0,
                    autoplay: !0,
                    prevArrow:
                        '<button type="button" class="slick-prev slick-arrow-lg" aria-label="slick-button"></button>',
                    nextArrow:
                        '<button type="button" class="slick-next slick-arrow-lg" aria-label="slick-button"></button>',
                    responsive: [{ breakpoint: 991, settings: { arrows: !1 } }],
                });
        },
        htmlSubHeroBanner: function (e) {
            var t = "";
            return (
                e.map(function (e) {
                    t +=
                        '\n              <div class="item">\n                  '.concat(
                            e
                                .map(function (e) {
                                    return '\n                            <a target="_blank" href="'
                                        .concat(
                                            e.link,
                                            '" class="each-item">\n                              <div class="inner">\n                                <picture>\n                                  <source\n                                    media="(min-width: 767px)"\n                                    srcset=\''
                                        )
                                        .concat(
                                            e.image_url,
                                            '\'>\n                                  <img width="100%" height="auto"\n                                       data-lazy="'
                                        )
                                        .concat(
                                            e.mobile_image_url,
                                            "\"\n                                       alt='KhÃ³a há»c trÆ°c tuyáº¿n'>\n                                </picture>\n                              </div>\n                            </a>\n                            "
                                        );
                                })
                                .join(""),
                            "\n              </div>\n              "
                        );
                }),
                t
            );
        },
        handleSubHeroBanner: function () {
            var e = $(".header-banner-second");
            let url = e.data("url");
            e.length &&
                $.ajax({
                    url: url,
                    success: function (t) {
                        if (200 === t.status.code) {
                            var a = homePageCategory.htmlSubHeroBanner(t.data);
                            e.find("> .inner").html(a),
                                $(".header-banner-second .item").slick({
                                    infinite: !0,
                                    lazyLoad: "ondemand",
                                    slidesToShow: 1,
                                    slidesToScroll: 1,
                                    autoplay: !0,
                                    autoplaySpeed: 5e3,
                                    dots: !1,
                                    arrows: !1,
                                    fade: !0,
                                    touchMove: !1,
                                    swipe: !1,
                                    pauseOnFocus: !1,
                                    pauseOnHover: !1,
                                });
                        }
                    },
                });
        },
        init: function () {
            homePageCategory.initSlickHeroBanner(),
                homePageCategory.handleSubHeroBanner();
        },
    },
    homeLazyLoadContent = {
        lazyLoadContentInit: function () {
            $.Lazy("lazyHomeContent", function (e, t) {
                switch (e.data("ajax-name")) {
                    case "renderSkillCourses":
                        homeLazyLoadContent.renderSkillCourses();
                        break;
                    case "renderWowCourses":
                        homeLazyLoadContent.renderWowCourses();
                        break;
                    case "renderFreeCourses":
                        homeLazyLoadContent.renderFreeCourses();
                        break;
                    case "renderRelevantCourses":
                        homeLazyLoadContent.renderRelevantCourses();
                        break;
                    case "loadUserSeenCourses":
                        homeLazyLoadContent.loadUserSeenCourses();
                        break;
                    case "renderTeacher":
                        homeLazyLoadContent.renderTeacher();
                    case "renderComboCourses":
                        homeLazyLoadContent.renderComboCourses();
                    
                }
                t(!0);
            }),
                $(".lazy-content").lazy();
        },
        handleTabsInsideSlick: function () {
            var e = $("#skillCourseContent"),
                t = $(".course-skill__tabs .nav-tabs"),
                a = $(".course-skill__explore--wrap-mobile");
            t.slick({
                variableWidth: !0,
                infinite: !1,
                slidesToShow: 8,
                slidesToScroll: 8,
                dots: !1,
                responsive: [
                    {
                        breakpoint: 1200,
                        settings: { slidesToShow: 7, slidesToScroll: 7 },
                    },
                    {
                        breakpoint: 992,
                        settings: {
                            arrows: !1,
                            slidesToShow: 6,
                            slidesToScroll: 6,
                        },
                    },
                    {
                        breakpoint: 768,
                        settings: {
                            arrows: !1,
                            slidesToShow: 5,
                            slidesToScroll: 5,
                        },
                    },
                    {
                        breakpoint: 576,
                        settings: {
                            arrows: !1,
                            slidesToShow: 2,
                            slidesToScroll: 2,
                        },
                    },
                    {
                        breakpoint: 481,
                        settings: {
                            arrows: !1,
                            slidesToShow: 1,
                            slidesToScroll: 1,
                        },
                    },
                ],
            }),
                t.on("afterChange", function () {
                    t
                        .find(".nav-item.active")
                        .closest(".slick-slide")
                        .hasClass("slick-active") ||
                        t
                            .find(".slick-slide.slick-active .nav-link")
                            .trigger("click");
                }),
                e.slick({
                    slidesToShow: 1,
                    slidesToScroll: 1,
                    infinite: !1,
                    dots: !1,
                    arrows: !1,
                    adaptiveHeight: !0,
                    swipe: !1,
                }),
                e.on("afterChange", function () {
                    var t = e
                        .find(".slick-slide.slick-active")
                        .data("slick-index");
                    $(".course-skill__tabs .nav-item").removeClass("active"),
                        $(
                            ".course-skill__tabs .nav-link[data-slick-index='".concat(
                                t,
                                "']"
                            )
                        )
                            .closest(".nav-item")
                            .addClass("active");
                }),
                $(document).on(
                    "click",
                    ".course-skill__tabs .nav-link",
                    function (t) {
                        t.preventDefault(),
                            $(".course-skill__tabs .nav-item").removeClass(
                                "active"
                            ),
                            $(this).closest(".nav-item").addClass("active");
                        var a = $(this).data("slick-index");
                        e.slick("slickGoTo", a);
                    }
                ),
                $(window).width() >= 1200 ||
                    (a.each(function () {
                        var e = $(this)
                            .closest(".course-skill__slider")
                            .find(".card-course")
                            .last();
                        $(this).appendTo(e);
                    }),
                    _addSlickCount($(".course-skill__slider")));
        },
        renderSkillCourses: function () {
            var e = $("#skillCourse");
            let skillCourseUrl = e.data("url");
            return $.ajax({
                url: skillCourseUrl,
                success: function (t) {
                    200 === t.status.code
                        ? (e.find(".container").append(t.data),
                          homeLazyLoadContent.handleTabsInsideSlick(),
                          homePage.handleCourseCardHover(e))
                        : e.remove();
                },
                error: function () {
                    e.remove();
                },
                complete: function () {
                    e.css({ "min-height": "unset", opacity: 1 });
                },
            });
        },
        renderWowCourses: function () {
            var e = $("#exclusiveCourse");
            let url = e.data("url");
            return $.ajax({
                url: url,
                success: function (t) {
                    if (200 === t.status.code) {
                        if (
                            (e.find(".container").append(t.data),
                            $(".course-exclusive__slider").slick({
                                slidesToScroll: 1,
                                slidesToShow: 1,
                                arrows: !0,
                                centerMode: !1,
                                prevArrow:
                                    '<button type="button" class="slick-prev slick-arrow-lg" aria-label="slick-button"></button>',
                                nextArrow:
                                    '<button type="button" class="slick-next slick-arrow-lg" aria-label="slick-button"></button>',
                            }),
                            $(window).width() < 1200)
                        ) {
                            $(".course-exclusive__slider").slick("unslick");
                            var a = $(
                                ".course-exclusive__slider-item:not(:first-child)"
                            ).find(".card-course");
                            $(
                                ".course-exclusive__slider-item:first-child"
                            ).append(a),
                                $(
                                    ".course-exclusive__slider-item:not(:first-child)"
                                ).remove(),
                                _addSlickCount(
                                    $(".course-exclusive__slider-item")
                                ),
                                homePage.handleCourseCardHover(e);
                        }
                        homePage.handleCourseCardHover(e);
                    } else e.remove();
                },
                error: function () {
                    e.remove();
                },
                complete: function () {
                    e.css({ "min-height": "unset", opacity: 1 });
                },
            });
        },
        renderComboCourses: function () {
            var e = $("#comboCourse");
            let url = e.data("url");
            return $.ajax({
                url: url,
                success: function (t) {
                    if (200 === t.status.code) {
                        if (
                            (e.find(".container").append(t.data),
                            $(".course-combo__slider").slick({
                                slidesToScroll: 1,
                                slidesToShow: 1,
                                arrows: !0,
                                centerMode: !1,
                                prevArrow:
                                    '<button type="button" class="slick-prev slick-arrow-lg" aria-label="slick-button"></button>',
                                nextArrow:
                                    '<button type="button" class="slick-next slick-arrow-lg" aria-label="slick-button"></button>',
                            }),
                            $(window).width() < 1200)
                        ) {
                            $(".course-combo__slider").slick("unslick");
                            var a = $(
                                ".course-combo__slider-item:not(:first-child)"
                            ).find(".card-course");
                            $(
                                ".course-combo__slider-item:first-child"
                            ).append(a),
                                $(
                                    ".course-combo__slider-item:not(:first-child)"
                                ).remove(),
                                _addSlickCount(
                                    $(".course-combo__slider-item")
                                );
                               
                        }
                       
                    } else e.remove();
                },
                error: function () {
                    e.remove();
                },
                complete: function () {
                    e.css({ "min-height": "unset", opacity: 1 });
                },
            });
        },
        
        renderFreeCourses: function () {
            var e = $("#free-course ");
            let url = e.data("url");
            return $.ajax({
                url: url,
                success: function (t) {
                    200 === t.status.code
                        ? (e.find(".container").append(t.data),
                          _addSlickCount($(".free-course__slider")),
                          homePage.handleCourseCardHover(e))
                        : e.remove();
                },
                error: function () {
                    e.remove();
                },
                complete: function () {
                    e.css({ "min-height": "unset", opacity: 1 });
                },
            });
        },
        renderRelevantCourses: function () {
            var e = $("#relevant-course");
            return $.ajax({
                url: "/site/relevant-courses-ajax",
                success: function (t) {
                    200 === t.status.code
                        ? (e.find(".container").append(t.data),
                          _addSlickCount($(".related-course__slider")),
                          homePage.handleCourseCardHover(e))
                        : e.remove();
                },
                error: function () {
                    e.remove();
                },
                complete: function () {
                    e.css({ "min-height": "unset", opacity: 1 });
                },
            });
        },
        renderHtmlUserSeenCourses: function (e) {
            var t = "",
                a = $("#home-page").attr("data-cdn-url");
            if (!e) return "";
            e.forEach(function (e) {
                if (e) {
                    var o = 1 == e.type,
                        n =
                            ($("#home-page").attr("data-is-user-logged"),
                            e.review_lesson),
                        s = "",
                        i = "";
                    (s =
                        "" == n || null == n
                            ? ' <a href="#" class="cta-open-video none-video"></a>'
                            : '<a href="#" class="cta-open-video"\n                           data-source="'.concat(
                                  n,
                                  '">\n                            <button class="btn-ripple">\n                                <i class="fas fa-play"></i>\n                            </button>\n                            Há»c thá»­\n                        </a>'
                              )),
                        e.isWow && 1 == e.isWow
                            ? (i +=
                                  '<div class="ribbon-position ribbon-wow">\n                                      <img width="100%" height="auto" class="img" src="'.concat(
                                      a,
                                      '/img/ribbon/ribbon-wow.png?v=1"\n                                           alt="Kyna.vn">\n                                  </div>'
                                  ))
                            : e.type && 2 == e.type
                            ? (i +=
                                  '<div class="ribbon-position">\n                                      <img width="100%" height="auto" class="img" src="'.concat(
                                      a,
                                      '/img/ribbon/ribbon-combo.png?v=1"\n                                           alt="Kyna.vn">\n                                  </div>'
                                  ))
                            : 0 == e.sale_price &&
                              (i +=
                                  '<div class="ribbon-position">\n                                      <img width="100%" height="auto" class="img" src="'.concat(
                                      a,
                                      '/img/ribbon/ribbon-free.png?v=1"\n                                           alt="Kyna.vn">\n                                  </div>'
                                  )),
                        1 == e.isBestSeller &&
                            (i +=
                                ' <div class="ribbon-best-seller">\n                                      <img width="100%" height="auto" class="img" src="'.concat(
                                    a,
                                    '/img/ribbon/ribbon-bestseller.png?v=1"\n                                           alt="Kyna.vn">\n                                  </div>'
                                )),
                        (t +=
                            '\n            <div class="card-course animate-fade-in"\n     data-toggle="popover" data-trigger="hover" data-upload-date="'
                                .concat(e.uploadDate, '"\n     data-duration="')
                                .concat(e.duration, '" data-user-enroll="')
                                .concat(
                                    e.userEnroll,
                                    '"\n     data-description="'
                                )
                                .concat(
                                    htmlentities.encode(e.description),
                                    '" data-promo-text="'
                                )
                                .concat(
                                    htmlentities.encode(e.promoText),
                                    '"\n     data-is-best-seller="'
                                )
                                .concat(e.isBestSeller, '" data-id="')
                                .concat(e.id, '" data-status-item="')
                                .concat(e.statusItem, '" >\n        ')
                                .concat(
                                    1 == o
                                        ? ' <div class="ribbon-position">\n              <img width="100%" height="auto" class="img" src="'.concat(
                                              a,
                                              '/img/ribbon/ribbon-combo.png?v=1"\n                   alt="Kyna.vn">\n          </div>'
                                          )
                                        : "",
                                    "\n        "
                                )
                                .concat(
                                    i,
                                    '\n        <div class="card-inner animate-fade-in">\n        <a target="_blank" href="'
                                )
                                .concat(
                                    e.slug,
                                    '"\n           class="card-link">\n            <div class="card-header animate-fade-in">\n                <img src="'
                                )
                                .concat(
                                    e.image_url,
                                    '"\n                     alt="course-image">\n                       '
                                )
                                .concat(
                                    0 == o
                                        ? '\n            <div class="card-header__badget">\n                        <span class="card-header__badget-item">\n                        <i class="fal fa-play-circle"></i>\n                       '
                                              .concat(
                                                  e.total_lesson,
                                                  '\n                        </span>\n                        <span class="card-header__badget-item">\n                        <i class="fal fa-star"></i>\n                       '
                                              )
                                              .concat(
                                                  e.rating,
                                                  "\n                        </span>\n                </div>"
                                              )
                                        : "",
                                    '\n            </div>\n            <div class="card-body animate-fade-in">\n                <div class="card-info">\n                    <h5 class="heading-card">\n                        <span class="heading-card__main">'
                                )
                                .concat(
                                    e.name,
                                    "</span>\n                    </h5>\n                    "
                                )
                                .concat(
                                    e.teacher_name.length > 3
                                        ? '<div class="info-card-wrap">\n                                                              <div class="info-card-avatar">\n                                                                <img data-lazy="'
                                              .concat(
                                                  a + e.teacher_avatar,
                                                  '"\n                     src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABHNCSVQICAgIfAhkiAAAAWtJREFUeF7t1cEJADAMw8B2/6Fd6BT3UCYQEiZ3207HGLgFYVp8kIJYPQqC9ShIQTQDGE8/pCCYAQynhRQEM4DhtJCCYAYwnBZSEMwAhtNCCoIZwHBaSEEwAxhOCykIZgDDaSEFwQxgOC2kIJgBDKeFFAQzgOG0kIJgBjCcFlIQzACG00IKghnAcFpIQTADGE4LKQhmAMNpIQXBDGA4LaQgmAEMp4UUBDOA4bSQgmAGMJwWUhDMAIbTQgqCGcBwWkhBMAMYTgspCGYAw2khBcEMYDgtpCCYAQynhRQEM4DhtJCCYAYwnBZSEMwAhtNCCoIZwHBaSEEwAxhOCykIZgDDaSEFwQxgOC2kIJgBDKeFFAQzgOG0kIJgBjCcFlIQzACG00IKghnAcFpIQTADGE4LKQhmAMNpIQXBDGA4LaQgmAEMp4UUBDOA4bSQgmAGMJwWUhDMAIbTQgqCGcBwWkhBMAMYTgspCGYAw3mmPo7k6LH8eAAAAABJRU5ErkJggg=="\n                     alt="'
                                              )
                                              .concat(
                                                  e.teacher_name,
                                                  '">\n                                                              </div>\n                                                              <div class="info-card-title">\n                                                                <p class="info-card"> <i class="fas fa-user-tie"></i> '
                                              )
                                              .concat(
                                                  e.teacher_name,
                                                  '</p>\n                                                                <span class="info-card"> <i class="fas fa-briefcase"></i> '
                                              )
                                              .concat(
                                                  e.teacher_title,
                                                  "</span>\n                                                              </div>\n                                                            </div>"
                                              )
                                        : ""
                                )),
                        (t +=
                            '</p><p class="pricing-card">\n                        '.concat(
                                s
                            )),
                        e.sale_price > 0
                            ? e.origin_price > 0 &&
                              e.origin_price > e.sale_price
                                ? (t +=
                                      '<span>\n                                <span class="course-discount">\n                                    <s> '
                                          .concat(
                                              homePage.moneyFormat(
                                                  e.sale_price
                                              ),
                                              ' </s>\n                                </span>\n                                <span class="course-pricing">'
                                          )
                                          .concat(
                                              homePage.moneyFormat(
                                                  e.sale_price
                                              ),
                                              "</span>\n                            </span>"
                                          ))
                                : (t += '<span class="course-pricing">'.concat(
                                      homePage.moneyFormat(e.sale_price),
                                      "</span>"
                                  ))
                            : (t +=
                                  '<span class="course-pricing">0 <u>Ä‘</u></span>'),
                        (t += "</p>"),
                        (t +=
                            '\n                        </div>\n                        </div>\n                        <div class="card-footer"></div>\n                      </a>\n                      </div>\n                    </div>\n                    </div>');
                }
            }),
                $("#user_seen_courses").append(t);
        },
        loadUserSeenCourses: function () {
            var e = $("#userSeenCourses"),
                t = JSON.parse(localStorage.getItem("userSeenCoursesV4"));
            if (null !== t) {
                for (var a = 0; a < t.length; a++)
                    if ($.isEmptyObject(t[a]))
                        return (
                            localStorage.removeItem("userSeenCoursesV4"),
                            void e.remove()
                        );
                homeLazyLoadContent.renderHtmlUserSeenCourses(t),
                    _addSlickCount($(".user-seen-courses__slider")),
                    e.css({ "min-height": "unset", opacity: 1 }),
                    homePage.handleCourseCardHover(e);
            } else e.remove();
        },
        renderTeacher: function () {
            var e = $("#lecture-list");
            let url = e.data("url");
            return $.ajax({
                url: url,
                success: function (t) {
                    200 === t.status.code
                        ? (e.find(".container").append(t.data),
                          $(window).width() > 991
                              ? $(".lecturer-list").slick({
                                    lazyLoad: "ondemand",
                                    arrows: !0,
                                    centerMode: !1,
                                    variableWidth: !1,
                                    infinite: !1,
                                    prevArrow:
                                        '<button type="button" class="slick-prev slick-arrow-lg" aria-label="slick-button"></button>',
                                    nextArrow:
                                        '<button type="button" class="slick-next slick-arrow-lg" aria-label="slick-button"></button>',
                                    responsive: [
                                        {
                                            breakpoint: 4320,
                                            settings: {
                                                slidesToShow: 3,
                                                slidesToScroll: 3,
                                            },
                                        },
                                        {
                                            breakpoint: 1200,
                                            settings: {
                                                slidesToShow: 2,
                                                variableWidth: !0,
                                                arrows: !1,
                                            },
                                        },
                                        {
                                            breakpoint: 600,
                                            settings: {
                                                slidesToShow: 1,
                                                variableWidth: !0,
                                            },
                                        },
                                    ],
                                })
                              : _addSlickCount($(".lecturer-list")))
                        : e.remove();
                },
                error: function () {
                    e.remove();
                },
                complete: function () {
                    e.css({ "min-height": "unset", opacity: 1 });
                },
            });
        },
        init: function () {
            homeLazyLoadContent.lazyLoadContentInit();
        },
    };
$(document).ready(function () {
    homePage.init(),
        homePageCategory.init(),
        homeLazyLoadContent.init(),
        $("#video-modal").on("shown.bs.modal", function (e) {
            player.play();
        }),
        $("#video-modal").on("hidden.bs.modal", function (e) {
            player.pause();
        });
});
